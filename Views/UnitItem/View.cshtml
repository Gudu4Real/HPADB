@model RentalAsset

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Add Item</title>
</head>
<body>
    <div class="container">

        <div class="row">
            <div class="col-md-5">
                <img class="featurette-image img-fluid mx-auto" src="@Model.ImageUrl" alt="Generic placeholder image">
            </div>
            <div class="col-md-6 product_content">
                <h4>@Model.Name</h4>
                <div class="btn-ground">
                    <a asp-action="AddToCheckout" asp-controller="Checkout" asp-route-itemId="@Model.RentalAssetId"  asp-route-selectedOptions="dummyData"  type="button" class="btn btn-primary" id="addToCartBtn"><span class="fas fa-shopping-cart"></span> Add To Cart</a>
                </div>
                <p>@Model.Description</p>
                <h3 class="cost"><span class="glyphicon glyphicon-usd"></span>@Model.Price</h3>
                <div class="space-ten"></div>
                <div class="row">
                    <div class="render-wrap"></div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<style>
</style>

<script src="~/lib/jquery/jquery.js"></script>
<script src="~/lib/jquery/jquery-ui.min.js"></script>
<script src="~/lib/formbuilder/form-builder.min.js"></script>
<script src="~/lib/formbuilder/form-render.min.js"></script>

<script>
    jQuery(function ($) {

        $('.render-wrap').formRender({
            dataType: 'json',
            formData: @Html.Raw(Model.OptionFormData)
        });

        $("#addToCartBtn").click(function (e) {
            // Stop the normal navigation
            e.preventDefault();

            //Build the new URL
            var url = $(this).attr("href");
            var userData = window.JSON.stringify($('.render-wrap').formRender("userData"));
            url = url.replace("dummyData", userData);
            //Navigate to the new URL
            window.location.href = url;
        });
    });

</script>


